---
title: JSå†…ç½®å¯¹è±¡
date: 2020-06-21 21:07:11
categories: JS
top: false
summary: JSå†…ç½®å¯¹è±¡
tags: 
 - JS
---

## ä¸€ã€JSå†…ç½®å¯¹è±¡

> JavaScript ä¸­çš„å¯¹è±¡åˆ†ä¸º3ç§ï¼š**è‡ªå®šä¹‰å¯¹è±¡ ã€å†…ç½®å¯¹è±¡ã€ æµè§ˆå™¨å¯¹è±¡**
> å‰é¢ä¸¤ç§å¯¹è±¡æ˜¯JS åŸºç¡€ å†…å®¹ï¼Œå±äº ECMAScriptï¼›  ç¬¬ä¸‰ä¸ªæµè§ˆå™¨å¯¹è±¡å±äº JS ç‹¬æœ‰çš„ï¼Œ JS API è®²è§£å†…ç½®å¯¹è±¡å°±æ˜¯æŒ‡ JS è¯­è¨€è‡ªå¸¦çš„ä¸€äº›å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œå¹¶æä¾›äº†ä¸€äº›å¸¸ç”¨çš„æˆ–æ˜¯**æœ€åŸºæœ¬è€Œå¿…è¦çš„åŠŸèƒ½**ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ï¼Œå†…ç½®å¯¹è±¡æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå¼€å‘
>
> â€‹	 	JavaScript æä¾›äº†å¤šä¸ªå†…ç½®å¯¹è±¡ï¼šMathã€ Date ã€Arrayã€Stringç­‰	
>
> æœ€å¥½çš„å­¦ä¹ æ˜¯å»æŸ¥é˜…MDNæ–‡æ¡£ï¼Œé‚£é‡Œè§£é‡Šå¾ˆå…¨ï¼Œæœ¬ç« å°ç¼–åªä»‹ç»æˆ‘ä»¬å¼€å‘ä¸­æœ€å¸¸ç”¨çš„å†…ç½®å¯¹è±¡ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œé¡ºä¾¿å·©å›ºä¸€ä¸‹ğŸ˜Š
>
> MDN:https://developer.mozilla.org/zh-CN/

## äºŒã€Math æ•°å­—å¯¹è±¡

> Math å¯¹è±¡ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œå®ƒå…·æœ‰æ•°å­¦å¸¸æ•°å’Œå‡½æ•°çš„å±æ€§å’Œæ–¹æ³•ï¼Œè·Ÿæ•°å­¦ç›¸å…³çš„è¿ç®—`(æ±‚ç»å¯¹å€¼ã€å–æ•´ã€æœ€å¤§å€¼ç­‰)` å¯ä»¥ä½¿ç”¨ Math ä¸­çš„æˆå‘˜

| å±æ€§\æ–¹æ³•å            | æè¿°                                             |
| ---------------------- | ------------------------------------------------ |
| Math.PI                | åœ†å‘¨ç‡                                           |
| Math.floor()           | å‘ä¸‹å–æ•´                                         |
| Math.ceil()            | å‘ä¸Šå–æ•´                                         |
| Math.round()           | å››èˆäº”å…¥ å°±è¿‘å–æ•´ æ³¨æ„ .5 å¾€å¤§çš„å– ä¾‹å¦‚-1.5 å–-1 |
| Math.abs()             | ç»å¯¹å€¼                                           |
| Math.max()æˆ–Math.min() | æ±‚æœ€å¤§æˆ–æœ€å°å€¼                                   |
| Math.random()          | è·å–èŒƒå›´åœ¨[0,1)å†…çš„éšæœºå€¼ï¼Œæ³¨æ„ï¼šä¸åŒ…æ‹¬0         |

**ä»£ç æ¼”ç¤º**

```js
console.log(Math.PI); // ä¸€ä¸ªå±æ€§ åœ†å‘¨ç‡
console.log(Math.max(1, 99, 3)); // è¿”å›ä¸€ç»„çš„æœ€å¤§å€¼ 99
console.log(Math.max(-1, -10)); // è¿”å›ä¸€ç»„çš„æœ€å°å€¼ -1
console.log(Math.max(1, 99, 'MATH')); // å¦‚æœä¸€ç»„æ•°æ®å‡ºç°ä¸æ˜¯æ•°å­—çš„ï¼Œè¿”å›NAN
console.log(Math.max()); // å•¥ä¹Ÿä¸å†™ è¿”å›-Infinity 

// 1.ç»å¯¹å€¼æ–¹æ³•
console.log(Math.abs(1)); // 1
console.log(Math.abs(-1)); // 1
console.log(Math.abs('-1')); // éšå¼è½¬æ¢ ä¼šæŠŠå­—ç¬¦ä¸²å‹ -1 è½¬æ¢ä¸ºæ•°å­—å‹
console.log(Math.abs('Math')); // NaN 

// 2.ä¸‰ä¸ªå–æ•´æ–¹æ³•
// (1) Math.floor()   åœ°æ¿ å‘ä¸‹å–æ•´  å¾€æœ€å°äº†å–å€¼
console.log(Math.floor(1.1)); // 1
console.log(Math.floor(1.9)); // 1

// (2) Math.ceil()   ceil å¤©èŠ±æ¿ å‘ä¸Šå–æ•´  å¾€æœ€å¤§äº†å–å€¼
console.log(Math.ceil(1.1)); // 2
console.log(Math.ceil(1.9)); // 2

// (3) Math.round()   å››èˆäº”å…¥  å…¶ä»–æ•°å­—éƒ½æ˜¯å››èˆäº”å…¥ï¼Œä½†æ˜¯ .5 ç‰¹æ®Š å®ƒå¾€å¤§äº†å–  
console.log(Math.round(1.1)); // 1
console.log(Math.round(1.5)); // 2
console.log(Math.round(1.9)); // 2
console.log(Math.round(-1.1)); // -1
console.log(Math.round(-1.5)); // è¿™ä¸ªç»“æœæ˜¯ -1
```

**Math.random()**

```js
// 1.Mathå¯¹è±¡éšæœºæ•°æ–¹æ³•   random() è¿”å›ä¸€ä¸ªéšæœºçš„å°æ•°  0 =< x < 1
// 2. è¿™ä¸ªæ–¹æ³•é‡Œé¢ä¸è·Ÿå‚æ•°
// 3. ä»£ç éªŒè¯ 
console.log(Math.random());


// 4. æˆ‘ä»¬æƒ³è¦å¾—åˆ°ä¸¤ä¸ªæ•°ä¹‹é—´çš„éšæœºæ•´æ•° å¹¶ä¸” åŒ…å«è¿™2ä¸ªæ•´æ•°
// Math.floor(Math.random() * (max - min + 1)) + min;
function getRandom(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
console.log(getRandom(1, 10)); éšæœºå» [1,10]çš„æ•°
```

## ä¸‰ã€Date æ—¥æœŸå¯¹è±¡

> â€‹	Date å¯¹è±¡å’Œ Math å¯¹è±¡ä¸ä¸€æ ·ï¼Œ**Dateæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°**ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦å®ä¾‹åŒ–åæ‰èƒ½ä½¿ç”¨å…¶ä¸­å…·ä½“æ–¹æ³•å’Œå±æ€§ã€‚Date å®ä¾‹ç”¨æ¥å¤„ç†æ—¥æœŸå’Œæ—¶é—´

* ä½¿ç”¨ Date å®ä¾‹åŒ–æ—¥æœŸå¯¹è±¡

  * è·å–å½“å‰æ—¶é—´å¿…é¡»å®ä¾‹åŒ–

  ```js
  var now = new Date(); // Sun Jun 21 2020 21:42:27 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
  ```

  

  * è·å–æŒ‡å®šæ—¶é—´çš„æ—¥æœŸå¯¹è±¡

  ```js
  var date1 = new Date(2020, 10, 1); // è¿™ä¸ªå½¢å¼æœ‰äº›è®¸é—®é¢˜ï¼Œå¯¹æ—¶é—´+1,ä¸æ¨è
  console.log(date1); // Sun Nov 01 2020 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´) è¿”å›çš„æ˜¯ 11æœˆ ä¸æ˜¯ 10æœˆ 
  var date2 = new Date('2020-10-1 8:8:8');
  console.log(date2); // Thu Oct 01 2020 08:08:08 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
  var date3 = new Date('2020 / 10 / 1')
  console.log(date3) // Thu Oct 01 2020 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
  ```

* å…¶ä»–æ˜¯æ–¹æ³•

| æ–¹æ³•å        | æè¿°                          | ä½¿ç”¨               |
| ------------- | ----------------------------- | ------------------ |
| getFullYear() | è·å–å½“å¹´                      | dObj.getFullYear() |
| getMonth()    | è·å–å½“æœˆ (0-11)               | dObj.getMonth()    |
| getDate()     | è·å–å½“å¤©æ—¥æœŸ                  | dObj.getDate()     |
| getDay()      | è·å–æ˜ŸæœŸå‡ (**å‘¨æ—¥0 åˆ°å‘¨å…­6**) | dObj.getDay()      |
| getHours()    | è·å–å½“å‰å°æ—¶                  | dObj.getHours()    |
| getMinutes()  | è·å–å½“å‰åˆ†é’Ÿ                  | dObj.getMinutes()  |
| getSeconds()  | è·å–å½“å‰ç§’é’Ÿ                  | dObj.getSeconds()  |

**ä»£ç æ¼”ç¤º**

```js
// æ ¼å¼åŒ–æ—¥æœŸ å¹´æœˆæ—¥ 
var date = new Date();
console.log(date.getFullYear()); // è¿”å›å½“å‰æ—¥æœŸçš„å¹´  2020
console.log(date.getMonth() + 1); // ç”±äºæ˜¯(0-11)ï¼ŒçœŸå®æœˆä»½çš„+1æ“ä½œ
console.log(date.getDate()); // è¿”å›çš„æ˜¯ å‡ å·
console.log(date.getDay()); // 3  å‘¨ä¸€è¿”å›çš„æ˜¯ 1 å‘¨å…­è¿”å›çš„æ˜¯ 6 ä½†æ˜¯ å‘¨æ—¥è¿”å›çš„æ˜¯ 0
// æˆ‘ä»¬å†™ä¸€ä¸ª æ ¼å¼ä¸º 2020å¹´ 10æœˆ 1æ—¥ æ˜ŸæœŸä¸‰ 
var year = date.getFullYear();
var month = date.getMonth() + 1;
var dates = date.getDate();
var arr = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
var day = date.getDay();
console.log('ä»Šå¤©æ˜¯ï¼š' + year + 'å¹´' + month + 'æœˆ' + dates + 'æ—¥ ' + arr[day]);

// å¯ä»¥ä¼ å…¥ç‰¹å®šçš„æ—¶é—´æ¥è·å–è¯¥å¹´æœˆ
var date = new Date('2020-12-01');
const year = date.getFullYear();
console.log(year) // 2020 ï¼Œå…¶ä»–æœˆæ—¥ä¹Ÿæ˜¯ä¸€æ ·è·å–çš„
```

* é€šè¿‡Dateå®ä¾‹æ€»æ¯«ç§’æ•°

  * æ€»æ¯«ç§’æ•°çš„å«ä¹‰

    > åŸºäº1970å¹´1æœˆ1æ—¥ï¼ˆä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼‰èµ·çš„æ¯«ç§’æ•°

  * è·å–æ€»æ¯«ç§’æ•°

  ```js
  // è·å¾—Dateæ€»çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³)  ä¸æ˜¯å½“å‰æ—¶é—´çš„æ¯«ç§’æ•° è€Œæ˜¯è·ç¦»1970å¹´1æœˆ1å·è¿‡äº†å¤šå°‘æ¯«ç§’æ•°
  // 1. é€šè¿‡ valueOf()  getTime()
  var date = new Date();
  console.log(date.valueOf()); // å°±æ˜¯ æˆ‘ä»¬ç°åœ¨æ—¶é—´ è·ç¦»1970.1.1 æ€»çš„æ¯«ç§’æ•°  1592748835027
  console.log(date.getTime());
  // 2. ç®€å•çš„å†™æ³• (æœ€å¸¸ç”¨çš„å†™æ³•)
  var date1 = +new Date(); // +new Date()  è¿”å›çš„å°±æ˜¯æ€»çš„æ¯«ç§’æ•°
  console.log(date1);
  // 3. H5 æ–°å¢çš„ è·å¾—æ€»çš„æ¯«ç§’æ•°
  console.log(Date.now());
  ```

  * å®ä¾‹ï¼š


  ```js
  // å€’è®¡æ—¶æ•ˆæœ
  // 1.æ ¸å¿ƒç®—æ³•ï¼šè¾“å…¥çš„æ—¶é—´å‡å»ç°åœ¨çš„æ—¶é—´å°±æ˜¯å‰©ä½™çš„æ—¶é—´ï¼Œå³å€’è®¡æ—¶ ï¼Œä½†æ˜¯ä¸èƒ½æ‹¿ç€æ—¶åˆ†ç§’ç›¸å‡ï¼Œæ¯”å¦‚ 05 åˆ†å‡å»25åˆ†ï¼Œç»“æœä¼šæ˜¯è´Ÿæ•°çš„ã€‚
  // 2.ç”¨æ—¶é—´æˆ³æ¥åšã€‚ç”¨æˆ·è¾“å…¥æ—¶é—´æ€»çš„æ¯«ç§’æ•°å‡å»ç°åœ¨æ—¶é—´çš„æ€»çš„æ¯«ç§’æ•°ï¼Œå¾—åˆ°çš„å°±æ˜¯å‰©ä½™æ—¶é—´çš„æ¯«ç§’æ•°ã€‚
  // 3.æŠŠå‰©ä½™æ—¶é—´æ€»çš„æ¯«ç§’æ•°è½¬æ¢ä¸ºå¤©ã€æ—¶ã€åˆ†ã€ç§’ ï¼ˆæ—¶é—´æˆ³è½¬æ¢ä¸ºæ—¶åˆ†ç§’ï¼‰
  // è½¬æ¢å…¬å¼å¦‚ä¸‹ï¼š 
  //  d = parseInt(æ€»ç§’æ•°/ 60/60 /24);    //  è®¡ç®—å¤©æ•°
  //  h = parseInt(æ€»ç§’æ•°/ 60/60 %24)   //   è®¡ç®—å°æ—¶
  //  m = parseInt(æ€»ç§’æ•° /60 %60 );     //   è®¡ç®—åˆ†æ•°
  //  s = parseInt(æ€»ç§’æ•°%60);            //   è®¡ç®—å½“å‰ç§’æ•°
  function countDown(time) {
      var nowTime = +new Date(); // è¿”å›çš„æ˜¯å½“å‰æ—¶é—´æ€»çš„æ¯«ç§’æ•°
      var inputTime = +new Date(time); // è¿”å›çš„æ˜¯ç”¨æˆ·è¾“å…¥æ—¶é—´æ€»çš„æ¯«ç§’æ•°
      var times = (inputTime - nowTime) / 1000; // timesæ˜¯å‰©ä½™æ—¶é—´æ€»çš„ç§’æ•° 
      var d = parseInt(times / 60 / 60 / 24); // å¤©
      d = d < 10 ? '0' + d : d;
      var h = parseInt(times / 60 / 60 % 24); //æ—¶
      h = h < 10 ? '0' + h : h;
      var m = parseInt(times / 60 % 60); // åˆ†
      m = m < 10 ? '0' + m : m;
      var s = parseInt(times % 60); // å½“å‰çš„ç§’
      s = s < 10 ? '0' + s : s;
      return d + 'å¤©' + h + 'æ—¶' + m + 'åˆ†' + s + 'ç§’';
  }
  console.log(countDown('2020-6-22'));// 00å¤©01æ—¶34åˆ†17ç§’
  ```

## å››ã€Array æ•°ç»„å¯¹è±¡

> [ç‚¹å‡»æŸ¥çœ‹MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)

### åˆ›å»ºæ•°ç»„çš„ä¸¤ç§æ–¹å¼

* å­—é¢é‡åˆ›å»º

  ```js
  var arr = [1,2,3];
  ```

* å®ä¾‹åŒ–åˆ›å»º

  ```js
  var arr = new Array();
  ```

  > æ³¨æ„:å®ä¾‹åŒ–åˆ›å»ºå‡ºæ¥çš„æ•°ç»„æ˜¯ä¸ªç©ºæ•°ç»„ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ„é€ å‡½æ•°Arrayåˆ›å»ºéç©ºæ•°ç»„ï¼Œå¯ä»¥åœ¨åˆ›å»ºæ•°ç»„æ—¶ä¼ å…¥å‚æ•°

  * å¦‚æœåªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œåˆ™å‚æ•°è§„å¾‹æ•°ç»„çš„é•¿åº¦
  * å¦‚æœä¼ å…¥äº†å¤šä¸ªå‚æ•°ï¼Œåˆ™å‚æ•°æˆä¸ºæ•°ç»„çš„å…ƒç´ 

### ä½¿ç”¨æ–¹æ³•åˆ›å»ºæ•°ç»„

| æ–¹æ³•å                   | æè¿°                                                         | è¿”å›å€¼ |
| ------------------------ | ------------------------------------------------------------ | ------ |
| Array.from(æƒ³è½¬åŒ–çš„å¯¹è±¡) | ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹     | æ–°æ•°ç»„ |
| Array.of()               | åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œè€Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹ã€‚ | æ–°æ•°ç»„ |

**ä»£ç æ¼”ç¤º**

```js
// Array.from()
let datas = {
    0: "a",
    1: "b",
    2: "c",
    length: 3
};  
datas = Array.from(datas,function(item,index){
    return item.toUpperCase();
},document);
console.log(datas); // ["A", "B", "C"]

// Array.of()
 let arr = Array.of(1, 2, 3, 4, 5, 5, 6, '123');
console.log(arr); // [1, 2, 3, 4, 5, 5, 6, "123"]
```

### æ£€æµ‹æ˜¯å¦ä¸ºæ•°ç»„

| æ–¹æ³•å          | æè¿°           |
| --------------- | -------------- |
| instanceof      | ä½¿ç”¨å…³é”®å­—åˆ¤æ–­ |
| Array.isArray() | ä½¿ç”¨æ•°ç»„æ–¹æ³•   |

**ä»£ç æ¼”ç¤º**

```js
// (1) instanceof  è¿ç®—ç¬¦ å®ƒå¯ä»¥ç”¨æ¥æ£€æµ‹æ˜¯å¦ä¸ºæ•°ç»„     
var arr = [];
var obj = {};

console.log(arr instanceof Array); // true
console.log(obj instanceof Array); // false

// (2) Array.isArray(å‚æ•°);  H5æ–°å¢çš„æ–¹æ³•  ie9ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒ
console.log(Array.isArray(arr)); // true
console.log(Array.isArray(obj)); // false
```

### æ·»åŠ /åˆ é™¤/æˆªå–/è¿æ¥/æŸ¥æ‰¾æ•°ç»„å…ƒç´ çš„æ–¹æ³•

* æ•°ç»„ä¸­æœ‰è¿›è¡Œæ·»åŠ ã€åˆ é™¤å…ƒç´ çš„æ–¹æ³•ï¼Œå¸¸ç”¨å¦‚ä¸‹è¡¨

| æ–¹æ³•å                           | æè¿°                                                         | è¿”å›å€¼                  |
| -------------------------------- | ------------------------------------------------------------ | ----------------------- |
| push(å‚æ•°1,.....)                | æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œ**æ³¨æ„ä¿®æ”¹åŸæ•°ç»„**                   | å¹¶è¿”å›æ–°çš„é•¿åº¦          |
| pop()                            | åˆ é™¤æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ,æŠŠæ•°ç»„é•¿åº¦å‡1 **æ— å‚æ•°ï¼Œä¿®æ”¹åŸæ•°ç»„**    | è¿”å›ä»–åˆ é™¤çš„å…ƒç´ çš„å€¼    |
| unshift(å‚æ•°1,....)              | å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œ**æ³¨æ„ä¿®æ”¹åŸ æ•°ç»„**          | å¹¶è¿”å›æ–°çš„é•¿åº¦          |
| shift()                          | åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„é•¿åº¦å‡ä¸€ï¼Œ**æ— å‚æ•°ï¼Œä¿®æ”¹åŸæ•°ç»„**   | å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼    |
| concat()                         | è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ **ä¸å½±å“åŸæ•°ç»„**                          | è¿”å›ä¸€ä¸ªæ–°æ•°ç»„          |
| slice()                          | æ•°ç»„æˆªå– slice(begin,end)ï¼Œ**ä¸å½±å“åŸæ•°ç»„**                  | è¿”å›è¢«æˆªå–é¡¹ç›®çš„æ–°æ•°ç»„  |
| splice()                         | æ•°ç»„åˆ é™¤ splice(ç¬¬å‡ ä¸ªå¼€å§‹ï¼Œè¦åˆ é™¤çš„ä¸ªæ•°)**æ³¨æ„ï¼šè¿™ä¸ªä¼šå½±å“åŸæ•°ç»„** | è¿”å›è¢«åˆ é™¤é¡¹ç›®çš„æ–°æ•°ç»„  |
| include(è¦æŸ¥æ‰¾çš„å…ƒç´ ,[ä»å“ªå¼€å§‹]) | ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œé»˜è®¤ä»ç´¢å¼•0çš„ä½ç½®å¼€å§‹æŸ¥æ‰¾**ä¸å½±å“åŸæ•°ç»„** | å­˜åœ¨å…ƒç´ :true,å¦åˆ™false |

> æ³¨æ„:
>
> push ã€unshift -----> æ·»åŠ å…ƒç´ 
>
>  pop ã€ shift ---------> åˆ é™¤å…ƒç´ 

```js
let arr = [1, 2, 3]
let arr2 = [4, 5, 6]
let arr3 = [7, 8, 9]
console.log(arr.concat(arr2, arr3)) // [1, 2, 3, 4, 5, 6, 7, 8, 9]
console.log(arr.slice(1, 2)); // [2]
console.log(arr.splice(1, 2)) // [2, 3]
console.log(arr) // [1]

// include
let arr = ["a","b","c","d"];
console.log(arr.includes("a")); // true
console.log(arr.includes("a",-3)); // ä»ç´¢å¼•4-3 = 1 çš„ä½ç½®å¼€å§‹æŸ¥æ‰¾ è¿”å›flase
```

### æ•°ç»„æ’åº

* æ•°ç»„ä¸­æœ‰é˜Ÿæ•°ç»„æœ¬èº«æ’åºçš„æ–¹æ³•ï¼Œå¸¸ç”¨å¦‚ä¸‹è¡¨:

| æ–¹æ³•å    | è¯´æ˜                             | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„                     |
| --------- | -------------------------------- | ---------------------------------- |
| reverse() | é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºï¼Œ**æ— å‚æ•°** | è¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ¥çš„æ•°ç»„ï¼Œè¿”å›æ–°æ•°ç»„ |
| sort()    | å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº             | è¯¥æ–¹æ³•ä¼šæ”¹å˜åŸæ¥çš„æ•°ç»„ï¼Œè¿”å›æ–°æ•°ç»„ |

> æ³¨æ„ï¼š sortæ–¹æ³•éœ€è¦ä¼ å…¥å‚æ•°æ¥è®¾ç½®å‡åºã€é™åºæ’åº
>
>  *  å¦‚æœä¼ å…¥"function(a,b){return a-b;}" åˆ™ä¸ºå‡åº
>  *  å¦‚æœä¼ å…¥â€œfunction(a,b){return b-a;}â€ åˆ™ä¸ºé™åº

```js
// æ•°ç»„æ’åº
// 1. ç¿»è½¬æ•°ç»„
var arr = ['pink', 'red', 'blue'];
arr.reverse();
console.log(arr); // ["blue", "red", "pink"]

// 2. æ•°ç»„æ’åºï¼ˆå†’æ³¡æ’åºï¼‰
var arr1 = [13, 4, 77, 1, 7];
arr1.sort(function(a, b) {
    //  return a - b; å‡åºçš„é¡ºåºæ’åˆ—
    return b - a; // é™åºçš„é¡ºåºæ’åˆ— 
});
console.log(arr1); // [77, 13, 7, 4, 1]
```

### æ•°ç»„ç´¢å¼•æ–¹æ³•

* æ•°ç»„ä¸­æœ‰è·å–æ•°ç»„æŒ‡å®šå…ƒç´ ç´¢å¼•å€¼çš„æ–¹æ³•ï¼Œå¸¸ç”¨å¦‚ä¸‹è¡¨

| æ–¹æ³•å        | è¯´æ˜                           | è¿”å›å€¼                                     |
| ------------- | ------------------------------ | ------------------------------------------ |
| indexOf()     | æ•°ç»„ä¸­æŸ¥æ‰¾ç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼• | å¦‚æœå­˜åœ¨è¿”å›ç´¢å¼•å·ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›`-1` |
| lastIndexOf() | åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•       | å¦‚æœå­˜åœ¨è¿”å›ç´¢å¼•å·ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›`-1` |

> æ³¨æ„ï¼šç´¢å¼•ä»`0`å¼€å§‹

```js
var arr = ['red', 'green', 'pink'];
console.log(arr.indexOf('blue')); // 0

var arr = ['red', 'green', 'blue', 'pink', 'blue'];
console.log(arr.lastIndexOf('blue')); // 4
```

### æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²

* æ•°ç»„ä¸­å§æ•°ç»„è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå¸¸ç”¨å¦‚ä¸‹è¡¨

| æ–¹æ³•å         | è¯´æ˜                                       | è¿”å›å€¼         |
| -------------- | ------------------------------------------ | -------------- |
| toString()     | æŠŠæ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œé€—å·åˆ†éš”æ¯ä¸€é¡¹         | è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² |
| join('åˆ†éš”ç¬¦') | æ–¹æ³•ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸² | è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² |

> æ³¨æ„ï¼š join æ–¹æ³•é€šè¿‡ä¸ä¼ å…¥å‚æ•°ï¼Œåˆ™æŒ‰ç…§`,`æ‹¼æ¥å…ƒç´ 

**ä»£ç æ¼”ç¤º**

```js
// 1. toString() å°†æˆ‘ä»¬çš„æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²
var arr = [1, 2, 3];
console.log(arr.toString()); // 1,2,3

// 2. join(åˆ†éš”ç¬¦) 
var arr1 = ['green', 'blue', 'pink'];
console.log(arr1.join()); // green,blue,pink
console.log(arr1.join('-')); // green-blue-pink
console.log(arr1.join('&')); // green&blue&pink
```

### æ•°ç»„çš„éå†

> ä¸‹é¢çš„æ–¹æ³•éƒ½æ˜¯**ä¸æ”¹å˜åŸæ•°ç»„**

| æ–¹æ³•å                                               | æè¿°                                                         | è¿”å›å€¼                    |
| ---------------------------------------------------- | ------------------------------------------------------------ | ------------------------- |
| arr.forEach(callback(item,index))                    | å°†arræ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½æ‰§è¡Œä¸€æ¬¡`callback`å‡½æ•°,è‹¥è¦ä¸­é€”è·³å‡ºå¾ªç¯åˆ™éœ€è¦æŠ›å‡ºç»“æŸå¾ªç¯çš„è¯­å¥ï¼Œ | undefined                 |
| arr.every(callback(item,index))                      | æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„`æ‰€æœ‰å…ƒç´ `æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ï¼Œ   | å¸ƒå°”å€¼                    |
| arr.some(callback(item,index))                       | æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯`è‡³å°‘æœ‰1ä¸ªå…ƒç´ `é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•,å¦‚æœæ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ä¾¿ç»ˆæ­¢éå† | å¸ƒå°”å€¼                    |
| arr.find(callback(item,index))**(ES6)**              | éå†å¯»æ‰¾æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªç¬¦åˆ`callback`å‡½æ•°æ¡ä»¶çš„å…ƒç´ ï¼Œæ‰¾åˆ°åˆ™ç»ˆæ­¢éå† | ç¬¦åˆæ¡ä»¶å…ƒç´ æˆ–`undefined` |
| arr.findIndex(callback(item,index))**(ES6)**         | éå†å¯»æ‰¾æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªç¬¦åˆ`callback`å‡½æ•°æ¡ä»¶çš„å…ƒç´ å¹¶è·å–åˆ°å…¶çš„`ç´¢å¼•`ï¼Œå¹¶ç»ˆæ­¢éå† | æ‰¾åˆ°è¿”å›ç´¢å¼•å€¼,å¦åˆ™`-1`   |
| arr.map(callback(item,index))**(ES6)**               | éå†æ•°ç»„ï¼Œå°†æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡`callback`ä¹‹åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„   | æ–°æ•°ç»„                    |
| arr.filter(callback(item,index))**(ES6)**            | éå†æ•°ç»„ï¼Œå°†æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œ`callback`ä¹‹åï¼Œè‹¥å…ƒç´ æ»¡è¶³å‡½æ•°è¿”å›æ¡ä»¶ï¼Œåˆ™ä¿ç•™ | æ–°æ•°ç»„                    |
| arr.reduce(function(result,item,index),initial)      | å¯¹æ•°ç»„è¿›è¡Œè¿­ä»£ï¼Œä»å·¦åˆ°å³ï¼Œä¸€èˆ¬ç”¨äºæ±‚å’Œ                       | è¿­ä»£åè¿”å›çš„ç»“æœ          |
| arr.reduceRight(function(result,item,index),initial) | å¯¹æ•°ç»„è¿›è¡Œè¿­ä»£ï¼Œä»å³å¾€å·¦                                     | è¿­ä»£åè¿”å›çš„ç»“æœ          |

**ä»£ç æ¼”ç¤º**

```js
// forEach
const arraySparse = [1,3,,7];
arraySparse.forEach(function(item){
    console.log(element); // 1 3 7
});

// every
[12, 5, 8, 130, 44].every(x => x >= 10); // false
[12, 54, 18, 130, 44].every(x => x >= 10); // true

// some 
[2, 5, 8, 1, 4].some(x => x > 10);  // false å®é™…æ‰§è¡Œ5æ¬¡callback
[12, 5, 8, 1, 4].some(x => x > 10); // true  å®é™…æ‰§è¡Œ1æ¬¡callback

// find 
let arr = [10, 1, 3]
const flag = arr.find((item, index) => {
    return item > 9
})
console.log(flag) // 10

// findIndex
let arr = [10, 1, 3]
const flag = arr.findIndex((item, index) => {
    return item == 10
})
console.log(flag) // 0 

// map 
const array1 = [1, 4, 9, 16];
const map1 = array1.map(x => x * 2);
console.log(map1); // [2, 8, 18, 32]

// filter
const words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];
const result = words.filter(word => word.length > 6);
console.log(result); // ["exuberant", "destruction", "present"]
```

### æ•°æ®æ•°ç»„æ‰å¹³åŒ–

| æ–¹æ³•å                             | æè¿°                                                         | è¿”å›å€¼ |
| ---------------------------------- | ------------------------------------------------------------ | ------ |
| arr.flat([depth])**(ES6)**         | æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„**æ·±åº¦**é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚ æ·±åº¦é»˜è®¤ä¸º1ï¼Œæ— é™æ¬¡å¯æŒ‡å®šä¸º`Infinity` | æ–°æ•°ç»„ |
| arr.flatMap((item,index))**(ES6)** | æ–¹æ³•é¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒä¸Â `map`Â è¿ç€æ·±åº¦å€¼ä¸º1çš„Â `flat`Â å‡ ä¹ç›¸åŒï¼Œä½†Â `flatMap`Â é€šå¸¸åœ¨åˆå¹¶æˆä¸€ç§æ–¹æ³•çš„æ•ˆç‡ç¨å¾®é«˜ä¸€äº›ã€‚ | æ–°æ•°ç»„ |

> ç®€å•æ¥è®²ï¼šflat æ˜¯å°†å¤šç»´åº¦çš„æ•°ç»„æ•°æ®ç»“æ„è¿›è¡Œé™ç»´æ“ä½œï¼Œä¼ å…¥`Infinity`ä¹‹åï¼Œè¿”å›çš„æ–°æ•°ç»„ä¸­ä¼šæ˜¯ä¸€ç»´åŸæ•°ç»„ï¼›flatMap æ˜¯å°†æ•°ç»„çš„æ‰€æœ‰æ•°æ®è¿›å»`callback`æ“ä½œä¹‹åï¼Œå¼ºè¡ŒæŠŠç»“æœå‹ç¼©ä¸ºä¸€ä¸ªæ•°ç»„å­˜å‚¨ã€‚

**ä»£ç æ¼”ç¤º**

```js
// flat  æ³¨æ„ï¼šarrçš„æ•°æ®ç»“æ„ä¸€å®šè¦æŒ‰ä¸‹é¢çš„å½¢å¼å®šä¹‰
let arr = [
    [1, 2],
    [3, 4],
    [
        [6, 7],
        [
            [8],
            [9, 10]
        ]
    ]
];
console.log(arr.flat(Infinity)); //Â [1, 2, 3, 4, 6, 7, 8, 9, 10]

// flatMap
let arr1 = ["it's Sunny in", "", "California"];
arr1.flatMap(x => x.split(" "));
// ["it's","Sunny","in", "", "California"]

let arr = [
    [1, 2],
    [3, 4],
    [6, 8]
];
let arr2 = arr.flatMap(item => {
    item = item.filter(item => item >= 2);
    return item;
});
console.log(arr2);
```

### reduceè¯­æ³•

è¯­æ³•ï¼š

```js
arr.reduce(function(result,item,index){
    // + result ä¸Šä¸€æ¬¡è¿­ä»£è¿”å›çš„ç»“æœ;
    //  - å½“æ•°ç»„é•¿åº¦ >1 å¹¶ä¸” initialæœªä¼ ï¼Œç¬¬ä¸€æ¬¡è¿­ä»£ä¸å­˜åœ¨ä¸Šä¸€æ¬¡è¿­ä»£ï¼Œresultæ˜¯æ•°ç»„ç¬¬ä¸€é¡¹çš„å€¼ï¼Œç›¸å½“äºæ•°ç»„æ˜¯ä»ç¬¬äºŒé¡¹å¼€å§‹è¿­ä»£
    //  - å½“æ•°ç»„é•¿åº¦ >1 å¹¶ä¸” initialæœ‰ä¼ ï¼Œç¬¬ä¸€æ¬¡è¿­ä»£ä¸­resultçš„å€¼æ˜¯initialçš„å€¼ï¼Œitemä¸ºæ•°ç»„ç¬¬ä¸€é¡¹å¼€å§‹è¿­ä»£
    //  - å½“æ•°ç»„é•¿åº¦ä¸º0 å¹¶ initialæœªä¼ ï¼Œåˆ™æŠ¥é”™
    //  - å½“æ•°ç»„é•¿åº¦ä¸º1 å¹¶ initialæœªä¼ ï¼Œåˆ™reduceç»“æŸç›´æ¥è¿”å›æ•°ç»„ç¬¬ä¸€é¡¹çš„å€¼
    //  - å½“æ•°ç»„é•¿åº¦è¯¶0 å¹¶ initialæœ‰ä¼ ï¼Œåˆ™reduceç»“æŸç›´æ¥è¿”å›initialçš„å€¼
    // + item å½“å‰è¿­ä»£é¡¹
    // + index å½“å‰è¿­ä»£é¡¹çš„ç´¢å¼•
},[initial]);

// arr.reduceRightå’Œarr.reduce()çš„è¯­æ³•æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ˜¯è¿­ä»£æ–¹å‘ä¸åŒï¼ŒreduceRightæ˜¯ä»å³å¾€å·¦è¿­ä»£
arr.reduceRight(function(result,item,index){xxx},[initial])
```

å¼€å§‹è¿ç”¨

```js
let arr = [1,2,3,4];
let total = arr.reduce(function(result,item)=>{
	return result + item;
},0);
console.log(total); // => 10
```

æ‰‹æ’•`reduce`ä»£ç 

```js
Array.prototype.reduce = function reduce(callback,initial) {
    let self = this,
        i=0,
        result=initial,
        len=self.length,
        isInit = typeof initial === "undefined" ? false:true;
    // æ ¼å¼éªŒè¯
    if(typeof callback !== "function") throw new TypeError(`${callback} is not a function!`);
    if (len === 0 && !isInit) throw new TypeError(`Reduce of empty array with no initial value`);
    if (len === 0 && isInit) return initial;
    if (len === 1 && !isInit) return self[0];
    if (!isInit) {
        result = self[0];
        i = 1;
    }
    for (; i < len; i++) {
        result = callback(result, self[i], i);
    }
    return result;
};
let arr = [1,2,3];
let total = arr.reduce(function (result, item) {
    return result + item;
});
console.log(total); 
```

## äº”ã€String å­—ç¬¦ä¸²å¯¹è±¡

> æ³¨æ„ï¼šå­—ç¬¦ä¸²å…·æœ‰ä¸å¯å˜æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å­—ç¬¦ä¸²åœ¨é‡æ–°èµ‹å€¼çš„æ—¶å€™ï¼Œåªæ˜¯åœ¨å†…å­˜ç©ºé—´ä¸­åœ¨å¼€è¾Ÿäº†ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œæ”¹å˜å˜é‡çš„æŒ‡é’ˆæŒ‡å‘æ–°å€¼ï¼Œè€Œæ—§å€¼ä¾ç„¶å­˜åœ¨äºå†…å­˜ä¸­ï¼Œå¹¶æœªé”€æ¯ã€‚æ‰€ä»¥ä¸è¦è¿‡å¤šæ¬¡çš„è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œç”±äºå­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§ï¼Œä¸‹é¢å¯¹å­—ç¬¦ä¸²çš„æ“ä½œéƒ½æ˜¯**ä¸ä¼šå½±å“åŸå­—ç¬¦ä¸²**
>
> [ç‚¹å‡»æŸ¥çœ‹MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String)

### æ ¹æ®å­—ç¬¦è¿”å›ä½ç½®

| æ–¹æ³•å                                | æè¿°                                                         | è¿”å›å€¼     |
| ------------------------------------- | ------------------------------------------------------------ | ---------- |
| indexOf('è¦æŸ¥æ‰¾çš„å­—ç¬¦'ï¼Œå¼€å§‹çš„ä½ç½®)   | è¿”å›æŒ‡å®šå†…å®¹åœ¨å…ƒå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±è¿”å›`-1`ï¼Œå¼€å§‹çš„ä½ç½®æ˜¯`index`ç´¢å¼•å· | ç´¢å¼•æˆ–`-1` |
| lastIndexOf()                         | ä»åå¾€å‰æ‰¾ï¼Œåªæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„                               | ç´¢å¼•æˆ–`-1` |
| includes("è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²",[ä»å“ªå¼€å§‹]) | åˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨æˆ‘ä»¬éœ€è¦æŸ¥åˆ°çš„å­—ç¬¦ä¸²                     | å¸ƒå°”å€¼     |

**ä»£ç æ¼”ç¤º**

```js
// å­—ç¬¦ä¸²å¯¹è±¡  æ ¹æ®å­—ç¬¦è¿”å›ä½ç½®  str.indexOf('è¦æŸ¥æ‰¾çš„å­—ç¬¦', [èµ·å§‹çš„ä½ç½®])
var str = 'æ”¹é©æ˜¥é£å¹æ»¡åœ°ï¼Œæ˜¥å¤©æ¥äº†';
console.log(str.indexOf('æ˜¥')); // ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ç´¢å¼•å€¼ 2
console.log(str.indexOf('æ˜¥', 3)); // ä»ç´¢å¼•å·æ˜¯ 3çš„ä½ç½®å¼€å§‹å¾€åæŸ¥æ‰¾,è¿”å›çš„å€¼å­—ç¬¦åœ¨æ•´ä¸ªå­—ç¬¦ä¸²çš„ä½ç½®ç´¢å¼•å€¼  è¿™é‡Œæ˜¯ 8
```

### æ ¹æ®ä½ç½®è¿”å›å­—ç¬¦

| æ–¹æ³•å            | æè¿°                                             | ä½¿ç”¨                         |
| ----------------- | ------------------------------------------------ | ---------------------------- |
| charAt(index)     | è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦(index å­—ç¬¦ä¸²çš„ç´¢å¼•å·),ä»0å¼€å§‹ | str.charAt(0)                |
| charCodeAt(index) | è·å–æŒ‡å®šä½ç½®å¤„å­—ç¬¦çš„`ASCLL`ç (indexç´¢å¼•å·)       | str.charCodeAt(0)            |
| str[index]        | è·å–æŒ‡å®šä½ç½®å¤„çš„å­—ç¬¦                             | HTML5,IE8+æ”¯æŒå’ŒcharAt()ç­‰æ•ˆ |

**ä»£ç æ¼”ç¤º**

```js
// æ ¹æ®ä½ç½®è¿”å›å­—ç¬¦
// 1. charAt(index) æ ¹æ®ä½ç½®è¿”å›å­—ç¬¦
var str = 'andy';
console.log(str.charAt(3)); // y
// éå†æ‰€æœ‰çš„å­—ç¬¦
for (var i = 0; i < str.length; i++) {
    console.log(str.charAt(i));
}
// 2. charCodeAt(index)  è¿”å›ç›¸åº”ç´¢å¼•å·çš„å­—ç¬¦ASCIIå€¼ ç›®çš„ï¼š åˆ¤æ–­ç”¨æˆ·æŒ‰ä¸‹äº†é‚£ä¸ªé”® 
console.log(str.charCodeAt(2)); // d : 100
// 3. str[index] H5 æ–°å¢çš„
console.log(str[0]); // a
```

### å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•

> æ³¨æ„ï¼šä¸‹é¢çš„æ–¹æ³•éƒ½æ˜¯ä¸å½±å“åŸå­—ç¬¦ä¸²ï¼Œè¿™ä¹Ÿä½“ç°äº†å­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§

| æ–¹æ³•å                                       | æè¿°                                                         | è¿”å›å€¼                 |
| -------------------------------------------- | ------------------------------------------------------------ | ---------------------- |
| concat(str1,str2,str3....)                   | concat() æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå‡­å€Ÿå­—ç¬¦ä¸²ï¼Œç­‰æ•ˆäº+,è€Œ + æ›´å¸¸ç”¨ | æ–°å­—ç¬¦                 |
| substr(start,length)                         | ä» start ä½ç½®å¼€å§‹(ç´¢å¼•å·)ï¼Œlength å»çš„ä¸ªæ•° **ä¸å½±å“åŸå­—ç¬¦ï¼Œé‡ç‚¹æŒæ¡** | æˆªå–çš„å­—ç¬¦             |
| slice(start,end)                             | ä» start ä½ç½®å¼€å§‹ï¼Œæˆªå–åˆ° end ä½ç½®ï¼Œendå»ä¸åˆ°ï¼ˆä¸¤ä¸ªéƒ½æ˜¯ç´¢å¼•å·ï¼‰**ä¸å½±å“åŸå­—ç¬¦** | æˆªå–çš„å­—ç¬¦             |
| substring(start,end)                         | ä» start ä½ç½®å¼€å§‹,æˆªå–åˆ° end ä½ç½®ï¼Œendå–ä¸åˆ°ï¼Œ åŸºæœ¬ sliceç›¸åŒï¼Œä½†æ˜¯ä¸æ¥å—è´Ÿå€¼ | æˆªå–çš„å­—ç¬¦             |
| replace(regexp\|substr, newSubStr\|function) | å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦æ›¿æ¢å¦ä¸€äº›å­—ç¬¦                             | è¿”å›è¢«æ›¿æ¢çš„æ•´ä¸ªå­—ç¬¦ä¸² |
| split("åˆ†å‰²å­—ç¬¦")                            | åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥å°†å­—ç¬¦ä¸²åˆ‡åˆ†ä¸ºæ•°ç»„ã€‚åœ¨åˆ‡åˆ†å®Œæ¯•ä¹‹åï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°æ•°ç»„ã€‚ | æ–°æ•°ç»„                 |
| repeat(é‡å¤çš„æ¬¡æ•°)                           | å°†å­—ç¬¦ä¸²é‡å¤å¤åˆ¶å¹¶è¿æ¥åœ¨ä¸€èµ·                                 | æ–°å­—ç¬¦                 |

**ä»£ç æ¼”ç¤º**

```js
// å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•
// 1. concat('å­—ç¬¦ä¸²1','å­—ç¬¦ä¸²2'....)
var str = 'andy';
console.log(str.concat('red')); // andyred
console.log(str) // andy

// 2. substr('æˆªå–çš„èµ·å§‹ä½ç½®', 'æˆªå–å‡ ä¸ªå­—ç¬¦'); 
// 3. slice('æˆªå–çš„èµ·å§‹ä½ç½®', 'æˆªå–çš„æˆªæ­¢ä½ç½®'); ç´¢å¼•å·

var str1 = 'æ”¹é©æ˜¥é£å¹æ»¡åœ°';
console.log(str1.slice(2, 3)) // æ˜¥
console.log(str1.substr(2, 2)); // ç¬¬ä¸€ä¸ª2 æ˜¯ç´¢å¼•å·çš„2 ä»ç¬¬å‡ ä¸ªå¼€å§‹  ç¬¬äºŒä¸ª2 æ˜¯å–å‡ ä¸ªå­—ç¬¦  ç»“æœï¼šæ˜¥é£
console.log(str1) // æ”¹é©æ˜¥é£å¹æ»¡åœ°

// repeat
let str = "123";
console.log(str.repeat(10)); // 123123123123123123123123123123
console.log(str) // 123
```

**replace è¯­æ³•æ ¼å¼**

```js
å­—ç¬¦ä¸².replace(è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œ è¦æ›¿æ¢ä¸ºçš„å­—ç¬¦ä¸²)ï¼›
```

**ä»£ç æ¼”ç¤º**

```js
// æ›¿æ¢å­—ç¬¦ replace('è¢«æ›¿æ¢çš„å­—ç¬¦', 'æ›¿æ¢ä¸ºçš„å­—ç¬¦')  å®ƒåªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªå­—ç¬¦
var str = 'andyandy';
console.log(str.replace('a', 'b')); // ç»“æœï¼š bndyandy
// æœ‰ä¸€ä¸ªå­—ç¬¦ä¸² 'abcoefoxyozzopp'  è¦æ±‚æŠŠé‡Œé¢æ‰€æœ‰çš„ o æ›¿æ¢ä¸º *
var str1 = 'abcoefoxyozzopp';
while (str1.indexOf('o') !== -1) {
    str1 = str1.replace('o', '*');
}
console.log(str1); // abc*ef*xy*zz*pp
```

**split()æ–¹æ³•**

```js
å­—ç¬¦ä¸².split("åˆ†å‰²å­—ç¬¦")
```

**ä»£ç æ¼”ç¤º**

```js
// å­—ç¬¦è½¬æ¢ä¸ºæ•°ç»„ split('åˆ†éš”ç¬¦')    å‰é¢æˆ‘ä»¬å­¦è¿‡ join æŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²
var str2 = 'red, pink, blue';
console.log(str2.split(',')); // )Â ["red", " pink", " blue"]
var str3 = 'red&pink&blue';
console.log(str3.split('&')); // ["red", "pink", "blue"]
```

### æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦å¼€å¤´/ç»“å°¾

| æ–¹æ³•å                                          | æè¿°                                                         | è¿”å›å€¼ |
| ----------------------------------------------- | ------------------------------------------------------------ | ------ |
| str.startsWith(è¦åˆ¤æ–­çš„å­—ç¬¦ä¸²,[ä»å“ªä¸ªä½ç½®])     | åˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ä¼ å…¥çš„å­—ç¬¦ä¸ºå¼€å¤´çš„,é»˜è®¤ä¸º0ï¼Œå³å­—ç¬¦ä¸²å¼€å¤´ä½ç½® | å¸ƒå°”å€¼ |
| str.endsWith(è¦åˆ¤æ–­çš„å­—ç¬¦ä¸²,[è¦æŸ¥æ‰¾çš„å­—ç¬¦é•¿åº¦]) | åˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ä¼ å…¥çš„å­—ç¬¦ä¸ºç»“å°¾çš„ï¼Œé»˜è®¤ä¸ºå­—ç¬¦ä¸²é•¿åº¦       | å¸ƒå°”å€¼ |

**ä»£ç æ¼”ç¤º**

```js
// startWidth
const str1 = 'Saturday night plans';
console.log(str1.startsWith('Sat')); // true
console.log(str1.startsWith('Sat', 3)); // false

// endWidth
const str1 = 'Cats are the best!';
console.log(str1.endsWith('best', 17)); // true
console.log(str1.endsWith('best', 2)); // false
```

## å…­ã€Setå¯¹è±¡ 

> setå¯¹è±¡å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„**å”¯ä¸€å€¼**ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ã€‚ å¯ä»¥å°†å®ƒæƒ³åšæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬æˆ‘ä»¬æ˜¯å°†å®ƒä½œä¸ºæ•°ç»„å»é‡ä½œç”¨ï¼Œå‡ºç°äº**ï¼ˆES6ï¼‰**
>
> [è¯¦ç»†ç‚¹å‡»æŸ¥çœ‹MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set)

**è‡ªèº«æºå¸¦çš„å±æ€§**

| å±æ€§å | æè¿°                                            |
| ------ | ----------------------------------------------- |
| size   | setå¯¹è±¡å­˜å‚¨æ•°æ®ç»“æ„çš„é•¿åº¦ï¼Œå’Œæ•°ç»„çš„`length`ç±»ä¼¼ |

**è‡ªèº«æºå¸¦çš„æ–¹æ³•**

| æ–¹æ³•å               | æè¿°                             | è¿”å›å€¼      |
| -------------------- | -------------------------------- | ----------- |
| setObj.add(value)    | åœ¨setå¯¹è±¡åå°¾æ·»åŠ å¤šä¸€ä¸ªæ•°å€¼      | æ–°çš„setå¯¹è±¡ |
| setObj.has(value)    | åˆ¤æ–­setå¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨å€¼ä¸º`value` | å¸ƒå°”å€¼      |
| setObj.delete(value) | åˆ é™¤setå¯¹è±¡ä¸­çš„å€¼ä¸º`value`       | å¸ƒå°”å€¼      |
| setObj.clean()       | ç§»é™¤setå¯¹è±¡ä¸­æ‰€æœ‰çš„å…ƒç´           | ç©ºçš„setå¯¹è±¡ |

**ä»£ç æ¼”ç¤º**

```js
// æ•°ç»„å»é‡
let arr = [1, 2, 3, 4, 1, 3, 5, 2, "c"];
let data = new Set(arr); // {1, 2, 3, 4, 5, "c"}

// add()
data.add(6) // {1, 2, 3, 4, 5, "c",6}

// has 
data.has(1) // true

// clean
data.clean() // {}
```

## ä¸ƒã€Mapå¯¹è±¡

> MapÂ å¯¹è±¡ä¿å­˜é”®å€¼å¯¹ï¼Œå¹¶ä¸”èƒ½å¤Ÿè®°ä½é”®çš„åŸå§‹æ’å…¥é¡ºåºã€‚ä»»ä½•å€¼(å¯¹è±¡æˆ–è€…åŸå§‹å€¼éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé”®æˆ–ä¸€ä¸ªå€¼ã€‚ ç®€å•æ¥è¯´å°±æ˜¯ï¼šå®ƒèƒ½å¤ŸæŠŠç‰¹å®šçš„æ•°æ®ç»“æ„è¿›è¡Œç»“æ„è½¬åŒ–ä¸º`key:value`çš„å½¢å¼
>
> [è¯¦ç»†ç‚¹å‡»æŸ¥çœ‹MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map)

**è‡ªèº«æºå¸¦çš„æ–¹æ³•**

| æ–¹æ³•å              | æè¿°                           | è¿”å›å€¼              |
| ------------------- | ------------------------------ | ------------------- |
| mObj.set(key,value) | ç»™mapå¯¹è±¡æ·»åŠ å€¼                | mapå¯¹è±¡             |
| mObj.has(key)       | åˆ¤æ–­mapå¯¹è±¡æ˜¯å¦å­˜åœ¨keyå¯¹åº”çš„å€¼ | å¸ƒå°”å€¼              |
| mObj.get(key)       | è·å–mapå¯¹è±¡ä¸­keyå¯¹åº”çš„å€¼       | è¿”å›é”®å¯¹åº”çš„å€¼      |
| mObj.delete(key)    | åˆ é™¤mapå¯¹è±¡ä¸­keyå¯¹åº”çš„å€¼       | å¸ƒå°”å€¼              |
| mObj.keys()         | è·å–mapå¯¹è±¡ä¸­æ‰€æœ‰keyå€¼         | æ–°çš„Â `Iterator`å¯¹è±¡ |
| mObj.values()       | è·å–mapå¯¹è±¡ä¸­æ‰€æœ‰valueå€¼       | æ–°çš„Â `Iterator`å¯¹è±¡ |

**ä»£ç æ¼”ç¤º**

```js
let data = new Map([
    ["zmouse", 30],
    ["reci", 20]
]);
console.log(data); // Map(2)Â {"zmouse" => 30, "reci" => 20} æ³¨æ„ï¼šä¸€å®šè¦è¿™ç§æ•°æ®ç»“æ„ï¼Œæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªä¸ºkeyå€¼ï¼Œç¬¬äºŒä¸ªä¸ºvalueå€¼

// set
data.set("åˆ˜ä¼Ÿ", 41); // Map(3)Â {"zmouse" => 30, "reci" => 20, "åˆ˜ä¼Ÿ" => 41}

// delete
data.delete("åˆ˜ä¼Ÿ"); // Map(2)Â {"zmouse" => 30, "reci" => 20}

// has
console.log(data.has("reci")) // true

// get
console.log(data.get("zmouse")); // 30
```



## å…«ã€æ•°æ®ç±»å‹

> Jsä¸­åˆ†ä¸ºç®€å•æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹ä¸¤ç±»

### 8.1æ•°æ®ç±»å‹æè¿°

| ç±»å‹         | æè¿°                                                         |
| ------------ | ------------------------------------------------------------ |
| ç®€å•æ•°æ®ç±»å‹ | ç®€å•æ•°æ®ç±»å‹/åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåœ¨å­˜å‚¨æ—¶å˜é‡ä¸­å­˜å‚¨çš„æ˜¯å€¼æœ¬èº«ï¼Œå› æ­¤å«åšå€¼ç±»å‹ï¼Œstring ã€numberã€booleanã€undefinedã€null |
| å¤æ‚æ•°æ®ç±»å‹ | å¤æ‚æ•°æ®ç±»å‹ï¼Œåœ¨å­˜å‚¨æ—¶å˜é‡å­˜å‚¨çš„ä»…ä»…æ˜¯åœ°å€(å¼•ç”¨)ï¼Œå› æ­¤å«åšå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé€šè¿‡newå…³é”®å­—åˆ›å»ºçš„å¯¹è±¡(ç³»ç»Ÿå¯¹è±¡ã€è‡ªå®šä¹‰å¯¹è±¡)ï¼Œå¦‚ Objectã€Arrayã€Dateç­‰ |

### 8.2å †æ ˆ

> å†…å­˜åœ¨æˆ‘ä»¬çœ‹æ¥æ˜¯åˆ’åˆ†äº†ä¸¤ä¸ªç»“æ„æ ˆå’Œå †

|      | æè¿°                                                         |
| ---- | ------------------------------------------------------------ |
| æ ˆ   | ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…é‡Šæ”¾å­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ã€å±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆï¼›**ç®€å•æ•°æ®ç±»å‹å­˜æ”¾åˆ°æ ˆé‡Œé¢** |
| å †   | å­˜å‚¨å¤æ‚ç±»å‹(å¯¹è±¡)ï¼Œä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç”±åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚**å¤æ‚ç±»å‹å­˜å°†åœ°å€å­˜å‚¨åœ¨æ ˆä¸­ï¼Œæ•°æ®å­˜å‚¨åœ¨å †ä¸­** |

> æ³¨æ„ï¼šJavaScriptä¸­æ²¡æœ‰å †æ ˆçš„æ¦‚å¿µï¼Œåªæ˜¯é€šè¿‡å †æ ˆçš„æ–¹å¼ï¼Œå¯ä»¥è®©å¤§å®¶æ›´å®¹æ˜“ç†è§£ä»£ç çš„ä¸€äº›æ‰§è¡Œæ–¹å¼ï¼Œä¾¿äºå°†æ¥å­¦ä¹ å…¶ä»–è¯­è¨€ 

![å†…å­˜ä¸­çš„å †æ ˆ](/medias/imges/js/neiObj/img.png)

### 8.3ç®€å•æ•°æ®ç±»å‹/å¤æ‚æ•°æ®ç±»å‹å†…å­˜åˆ†é…

> ç®€å•æ•°æ®ç±»å‹ç±»å‹å˜é‡çš„æ•°æ®ç›´æ¥å­˜æ”¾åœ¨å˜é‡ï¼ˆæ ˆç©ºé—´ï¼‰ä¸­

![ç®€å•æ•°æ®ç±»å‹å†…å­˜åˆ†é…](/medias/imges/js/neiObj/img1.png)

> å¤æ‚æ•°æ®ç±»å‹ï¼ˆæ ˆç©ºé—´ï¼‰é‡Œå­˜æ”¾çš„æ˜¯åœ°å€ï¼ŒçœŸæ­£çš„å¯¹è±¡å®ä¾‹å­˜æ”¾åœ¨å †ç©ºé—´ä¸­

![å¤æ‚æ•°æ®ç±»å‹å†…å­˜åˆ†é…](/medias/imges/js/neiObj/img2.png)

### 8.4ç®€å•æ•°æ®ç±»å‹/å¤æ‚æ•°æ®ç±»å‹ä¼ å‚

* ç®€å•æ•°æ®ç±»å‹

> å‡½æ•°çš„å½¢å‚ä¹Ÿå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå½“æˆ‘ä»¬æŠŠä¸€ä¸ªç®€å•æ•°æ®ç±»å‹å˜é‡ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°çš„å½¢å‚æ—¶ï¼Œå…¶å®åœ¨å†…å­˜**æ ˆ**ä¸­å¯¹å½¢å‚ä¹Ÿå¼€è¾Ÿäº†ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œç„¶åå°†ç®€å•æ•°æ®ç±»å‹åœ¨æ ˆä¸­çš„æ•°å€¼å¤æ‚ä¸€ä»½å¾€å½¢å‚åœ¨æ ˆä¸­å¼€è¾Ÿçš„ç©ºé—´èµ‹å€¼

```js
function fn(a) {
    a++;
    console.log(a); // 11
}
var x = 10;
fn(x); 
console.log(x); // 10
```

![ç®€å•æ•°æ®ç±»å‹ä¼ å‚](/medias/imges/js/neiObj/img3.png)

* å¤æ‚æ•°æ®ç±»å‹

> å‡½æ•°çš„å½¢å‚ä¹Ÿå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå½“æˆ‘ä»¬æŠŠå¤æ‚ç±»å‹å˜é‡ä¼ ç»™å½¢å‚æ—¶ï¼Œå…¶å®æ˜¯æŠŠå¤æ‚æ•°æ®å˜é‡åœ¨æ ˆç©ºé—´é‡Œä¿å­˜çš„å †åœ°å€å¤åˆ¶ç»™äº†å½¢å‚ï¼Œå½¢å‚å’Œå®å‚å…¶å®ä¿å­˜çš„æ˜¯åŒä¸€ä¸ªå †åœ°å€ï¼Œæ‰€ä»¥æ“ä½œçš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚

```js
function Person(name) {
    this.name = name;
}
function f1(x) { // x = p
    console.log(x.name); // 2. è¿™ä¸ªè¾“å‡ºä»€ä¹ˆ -> åˆ˜å¾·å    
    x.name = "å¼ å­¦å‹";
    console.log(x.name); // 3. è¿™ä¸ªè¾“å‡ºä»€ä¹ˆ -> å¼ å­¦å‹    
}
var p = new Person("åˆ˜å¾·å");
console.log(p.name);    // 1. è¿™ä¸ªè¾“å‡ºä»€ä¹ˆ ->  åˆ˜å¾·å   
f1(p);
console.log(p.name);    // 4. è¿™ä¸ªè¾“å‡ºä»€ä¹ˆ -> å¼ å­¦å‹  
```

![å¤æ‚æ•°æ®ç±»å‹ä¼ å‚](/medias/imges/js/neiObj/img4.png)

## ä¹ã€æ•°æ®ç±»å‹çš„åˆ¤æ–­

åœ¨ JavaScript é‡Œä½¿ç”¨ typeof åˆ¤æ–­ç±»å‹ï¼Œåªèƒ½åŒºåˆ†åŸºæœ¬ç±»å‹ï¼Œå³ï¼šnumberï¼Œstringï¼Œundefinedï¼Œbooleanï¼Œobjectã€‚ä¸åŒ…æ‹¬nullï¼Œ`typeof null == object`

å½“æˆ‘ä»¬è¿›è¡Œæ•°æ®ç±»å‹æ£€æµ‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å››ç§æ–¹æ³•

* typeof

  * åº•å±‚æœºåˆ¶ï¼šç›´æ¥åœ¨è®¡ç®—æœºåº•å±‚åŸºäºæ•°æ®ç±»å‹çš„å€¼ï¼ˆäºŒè¿›åˆ¶ï¼‰è¿›è¡Œæ£€æµ‹
  * ç¼ºç‚¹ï¼šä½†`typeof null == "object"`ï¼Œå› ä¸ºå¯¹è±¡å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ï¼Œéƒ½æ˜¯ä»¥`000`å¼€å§‹çš„äºŒè¿›åˆ¶å­˜å‚¨ï¼Œè€Œnullä¹Ÿæ˜¯ï¼Œæ‰€ä»¥`null`æ£€æµ‹å‡ºæ¥çš„ç»“æœæ˜¯å¯¹è±¡ï¼Œï¼ˆå¯ä»¥ç†è§£ä¸ºè®¡ç®—æœºçš„bugï¼‰
  * ç¼ºç‚¹ï¼štypeof æ™®é€šå¯¹è±¡/æ•°ç»„å¯¹è±¡/æ­£åˆ™å¯¹è±¡/æ—¥æœŸå¯¹è±¡ éƒ½æ˜¯ `"object"`

  ```js
  let obj = {}
  let arr = []
  console.log(typeof null); // object 
  console.log(typeof obj); // object 
  console.log(typeof arr); // object
  console.log(typeof 1 ); // number
  ```

* instanceof 

  * åº•å±‚æœºåˆ¶ï¼šåªè¦å½“å‰ç±»çš„åŸå‹å‡ºç°åœ¨å®ä¾‹çš„åŸå‹é“¾ä¸Šï¼Œç»“æœéƒ½æ˜¯`true`
  * ç¼ºç‚¹ï¼šä¸æ”¯æŒåŸºæœ¬ç±»å‹çš„æ£€æµ‹ï¼Œæ”¯æŒå¯¹è±¡ç±»å‹æ£€æµ‹ï¼Œç”±äºæˆ‘ä»¬å¯ä»¥è‚†æ„çš„ä¿®æ”¹åŸå‹æŒ‡å‘ï¼Œæ‰€ä»¥æ£€æµ‹å‡ºæ¥çš„ç»“æœæ˜¯ä¸å‡†çš„

  ```js
  let arr = [];
  console.log(arr instanceof Array) // true 
  console.log(arr instanceof RegExp) // false 
  console.log(arr instanceof Object) // true
  
  // è‚†æ„æ”¹åŠ¨fnçš„åŸå‹æŒ‡å‘ï¼Œinstanceofå°±ä¼šåˆ¤æ–­ä¸å‡†ç¡®
  function fn() {
      this.x = 100
  }
  fn.prototype = Object.create(Array.prototype)
  let f = new fn()
  console.log(f instanceof Array) // true
  ```

  **instanceofçš„åº•å±‚å®ç°**

  ```js
  function instance_of(example, classFunc) {
      let classFuncPrototype = classFunc.prototype,
          proto = Object.getPrototypeOf(example); // example.__proto__
      while (true) {
          if (proto == null) {
              // Object.prototype.__proto__ ==> null 
              return false;
          }
          if (proto == classFuncPrototype) {
              // æŸ¥æ‰¾è¿‡ç¨‹ä¸­å‘ç°æœ‰ï¼Œåˆ™è¯æ˜å®ä¾‹æ˜¯è¿™ä¸ªç±»çš„ä¸€ä¸ªå®ä¾‹
              return true
          }
          proto = Object.getPrototypeOf(proto);
      }
  
  }
  
  let arr = [];
  console.log(instance_of(arr, Array)) // true
  console.log(instance_of(arr, RegExp)) // false 
  console.log(instance_of(arr, Object)) // true
  ```

* constructor

  * åº•å±‚æœºåˆ¶ï¼šæˆ‘ä»¬å®ä¾‹éƒ½æ˜¯æœ‰ä¸€ä¸ªç±»æ–°å»ºçš„ï¼Œè¿™ä¸ªç±»çš„åŸå‹å¯¹è±¡ä¸Š`prototype`éƒ½ä¼šæœ‰`constructor`æ„é€ å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ„é€ å™¨æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”å®ƒæ”¯æŒåŸºæœ¬ç±»å‹æ£€æµ‹
  * ç¼ºç‚¹ï¼šç”¨èµ·æ¥çœ‹ä¼¼æ¯”instanceofè¿˜å¥½ç”¨ä¸€äº›ï¼ˆæ”¯æŒåŸºæœ¬ç±»å‹æ£€æµ‹ï¼‰ä½†ç±»åŸå‹å¯¹è±¡ä¸Šçš„`constructor`æˆ‘ä»¬å¯ä»¥éšä¾¿è¯¥ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ä¸å‡†çš„

  ```js
  let arr = [];
  console.log(arr.constructor == Array) // true 
  console.log(arr.constructor == RegExp) // false 
  console.log(arr.constructor == Object) // false 
  
  // è‚†æ„ä¿®æ”¹ç±»ä¸Šçš„prototypeçš„constructorå±æ€§
  let n = 1;
  Number.prototype.constructor = 'aa' 
  console.log(n.constructor == Number) // false
  ```

* Object.prototyoe.toString.call()

  * åº•å±‚æœºåˆ¶ï¼šé€šè¿‡`Object.prototype.toString(`)æ‰§è¡Œï¼Œè®©å®ƒé‡Œé¢çš„thiså˜ä¸ºè¦æ£€æµ‹çš„å€¼ï¼Œé‚£å°±è¿”å›å½“å‰å€¼æ‰€å±ç±»çš„ä¿¡æ¯
  * å®ƒæ˜¯æ ‡æ¤æ£€æµ‹æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼Œèƒ½æ£€æµ‹æ‰€æœ‰æ•°æ®ç±»å‹

  ```js
  Object.prototype.toString.call(arr) // [object Array]
  Object.prototype.toString.call(obj) // [object Object]
  Object.prototype.toString.call(123) // [object Number]
  Object.prototype.toString.call("123") // [object String]
  Object.prototype.toString.call(new Date) // [object Date]
  Object.prototype.toString.call(null) // [object Null]
  ```

**å°è£…ä¸€ä¸ªä¸‡èƒ½çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ³•**

```js
(function() {
    var class2type = {};
    var toString = class2type.toString; // => Object.prototype.toString

    // è®¾å®šæ•°æ®ç±»å‹çš„æ˜ å°„è¡¨
    ["Boolean", "Number", "String", "Function", "Array", "Date", "RegExp", "Object", "Error", "Symbol"].forEach(name => {
        class2type[`[object ${name}]`] = name.toLowerCase()
    });

    function toType(obj) {
        if (obj == null) {
            // ä¼ é€’çš„å€¼æ˜¯nullæˆ–undefined å°±è¿”å›çš„æ˜¯å­—ç¬¦ä¸²
            return obj + "";
        }
        // åŸºæœ¬æ•°æ®ç±»å‹éƒ½é‡‡ç”¨typeofæ£€æµ‹
        return typeof obj === "object" || typeof obj === "function" ?
            class2type[toString.call(obj)] || "object" : typeof obj
    }
    window.toType = toType
})()
```



