---
title: 01_移动端_基础知识篇
date: 2020-06-17 08:20:07
categories: Mobile
top: false
summary: 01_移动端_基础知识篇
tags: 
 - Mobile
---

#### 移动端基础知识篇

#### 一、非技术点介绍

##### 1.1浏览器介绍

 PC端常见浏览器：360浏览器、谷歌浏览器、火狐浏览器、QQ浏览器、百度浏览器、搜狗浏览器、IE浏览器。

移动端常见浏览器：UC浏览器，QQ浏览器，欧朋浏览器，百度手机浏览器，360安全浏览器，谷歌浏览器，搜狗手机浏览器，猎豹浏览器，以及其他杂牌浏览器。

国内的UC和QQ，百度等手机浏览器都是根据Webkit修改过来的内核，国内尚无自主研发的内核，就像国内的手机操作系统都是基于Android修改开发的一样。

**总结：兼容移动端主流浏览器，处理Webkit内核浏览器即可**

##### 1.2手机屏幕现状

- 移动端设备屏幕尺寸非常多，碎片化严重。
- Android设备有多种分辨率：480x800, 480x854, 540x960, 720x1280，1080x1920等，还有传说中的2K，4k屏。
- 近年来iPhone的碎片化也加剧了，其设备的主要分辨率有：640x960, 640x1136, 750x1334, 1242x2208等。
- 作为开发者无需关注这些分辨率，因为我们常用的尺寸单位是 px 。

##### 1.3 常见移动端屏幕尺寸

![ 常见移动端屏幕尺寸](/medias/imges/mobile/1.png )

##### 1.4移动端调试方法

- Chrome DevTools（谷歌浏览器）的模拟手机调试
- 搭建本地web服务器，手机和服务器一个局域网内，通过手机访问服务器
- 使用外网服务器，直接IP或域名访问

#### 二、视口

> 视口（viewport）就是浏览器显示页面内容的屏幕区域。 视口可以分为布局视口、视觉视口和理想视口

##### 2.1布局视口  layout viewport

一般移动设备的浏览器都默认设置了一个布局视口，用于解决早期的PC端页面在手机上显示的问题。

`IOS,Android`基本都将这个视口分辨率设置为`980px`【所有的界面在该视口都是以980分辨率来显示，下面会介绍分辨问题】,所以PC上的网页大多都能在手机上呈现，只不过元素看上去很小，一般默认可以通过手动缩放页面，但用户体验效果不好。

![布局视口](/medias/imges/mobile/2.png)

##### 2.2视觉视口 visual viewport

字面意思，它是用户正在看到的网站的区域。注意：是网站的区域。

我们可以通过缩放去操作视觉视口，但不会影响布局视口，布局视口仍保持原来的宽度



![视觉视口](/medias/imges/mobile/3.png)

##### 2.3理想视口 ideal viewport

为了使网站在移动端有最理想的浏览和阅读宽度而设定

理想视口，对设备来讲，是最理想的视口尺寸

需要手动添写meta视口标签通知浏览器操作

meta视口标签的主要目的：布局视口的宽度应该与理想视口的宽度一致，简单理解就是设备有多宽，我们布局的视口就多宽

**总结：我们开发最终会用理想视口，而理想视口就是将布局视口的宽度修改为视觉视口**

##### 2.4meta标签

> `meta`标签是设置理想视口的必要条件，没有它，就别提理想视口了。

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no,maximum-scale=1.0,minimum-scale=1.0">
```
| 属性          | 解释                                                     |
| ------------- | -------------------------------------------------------- |
| width         | 宽度设置的是`viewport`宽度，可以设置`device-width`特殊值 |
| initial-scale | 初始缩放比，大于0的数字                                  |
| maximum-scale | 最大缩放比，大于0的数字                                  |
| minimum-scale | 最小缩放比，大于0的数字                                  |
| user-scalable | 用户是否可以缩放，`yes`或`no`（1或0）                    |

最标准的`viewport`设置

* 视口宽度和设备保持一致
* 视口的默认缩放比例1.0
* 不允许用户自行缩放
* 最大允许的缩放比例1.0
* 最小允许的缩放比例1.0

#### 三、物理像素&物理像素比

物理像素点指的是屏幕显示的最小颗粒，是物理真实存在的。这是厂商在出厂时就设置好了,比如苹果6 是  750* 1334，我们`pc端`开发中1px=1物理像素点，而在`移动端`开发，由于现在采用`Retina（视网膜屏幕)`技术，1px开发像素会根据物理像素比来进行缩放，例如：

> 一张50* 50 的图片，在手机或 Retina 屏中打开,按照手机的物理像素比会被放大倍数，比如在`苹果6`，物理像素比为`2`，会被放大成100 * 100 去显示 ,这样会造成照片模糊

所谓的Retina（视网膜屏幕) 是一种显示技术，可以将把更多的物理像素点压缩至一块屏幕里，从而达到更高的分辨率，并提高屏幕显示的细腻程度。

#### 四、二倍图做法

> 由于第三点所得物理像素和物理像素比存在将图片进行缩放，造成的图片模糊问题，我们可以使用二倍图的做法来解决。

##### 4.1图片二本图做法

以要显示一个`50*50`为例子：

* 准备好一个`100*100`的图片，也就是比我们实际需要的大小 大2倍
* 手动缩放到`50*50`

```html
<style>
    img {
        width:50px;
        height:50px;
    }
</style>
<body>
    /* 这里的图片你刚100 * 100 的，而且css我们手动设置好50 * 50  */
    <img src="100.jpg">
</body>
```

##### 4.2背景图二倍图做法

background-size 属性规定背景图像的尺寸

```css
background-size: 背景图片宽度 背景图片高度;
```

单位： 长度|百分比|cover|contain;

cover把背景图像扩展至足够大，以使背景图像完全覆盖背景区域。

contain把图像图像扩展至最大尺寸，以使其宽度和高度完全适应内容区域

以要显示一个`50*50`的背景盒子为例子：

* 准备好一个`100*100`的图片，也就是比我们实际需要的大小 大2倍
* 手动缩放到`50*50`，而这里的手动是使用`background-size`来进行缩放的

```html
<style>
    div {
        width: 50px;
        height: 50px;
        border: 1px solid red;
        <-- 这里显示的是100* 100 的图片  ->
        background: url(images/apple100.jpg) no-repeat;
        background-size: 50px 50px;
    }
</style>
<body>
      <div></div>
</body>
```

#### 五、移动开发选择和技术解决方案

* 单独制作移动端页面（主流）

  通常情况下，网址域名前面加 m(mobile)
  可以打开移动端。通过判断设备，如果是移动设备打开，则跳到移动端页面。  

  也就是说，PC端和移动端为两套网站，pc端是pc断的样式，移动端在写一套，专门针对移动端适配的一套网站，例如`京东`

* 响应式页面兼容移动端（其次）,会根据屏幕的大小来显示不同的样式，例如：三星 ，但这种相对繁琐，要处理很多的兼容性的样式问题

#### 六、移动端的一些使用技巧

##### 6.1 移动端可以大量使用CSS3盒子模型`box-sizing`

传统模式宽度计算：盒子的宽度 = CSS中设置的width + border + padding 

CSS3盒子模型：     盒子的宽度=  CSS中设置的宽度width 里面包含了 border 和 padding 

也就是说，我们的CSS3中的盒子模型， padding 和 border 不会撑大盒子了

```css
/*CSS3盒子模型*/
box-sizing: border-box;
/*传统盒子模型*/
box-sizing: content-box;
```

移动端可以全部CSS3 盒子模型

PC端如果完全需要兼容，我们就用传统模式，如果不考虑兼容性，我们就选择 CSS3 盒子模型

##### 6.2移动端特殊样式

```css
/*CSS3盒子模型*/
box-sizing: border-box;
-webkit-box-sizing: border-box;
/*点击高亮我们需要清除清除  设置为transparent 完成透明*/
-webkit-tap-highlight-color: transparent;
/*在移动端浏览器默认的外观在iOS上加上这个属性才能给按钮和输入框自定义样式*/
-webkit-appearance: none;
/*禁用长按页面时的弹出菜单*/
img,a { -webkit-touch-callout: none; }
```

#### 七、移动端常见布局

移动端单独制作

- 流式布局（百分比布局）
- flex 弹性布局（强烈推荐）
- less+rem+媒体查询布局
- 混合布局

响应式

- 媒体查询
- bootstarp

这里将最简单的`流式布局`介绍，其他布局都会另外写一篇

> 很重要的一点，当我们前端程序员拿到ui组的设计图的时候，并不是直接在`fireworks`中量取的值作为我们开发的值，而是要根据物理像素比来进行转化，例如以为苹果6来做开发尺寸，物理像素比为2，则我们量取的宽高要`除2`,才是我们实际开发的尺寸。

#### 八、流式布局

> 流式布局，就是百分比布局，也称非固定像素布局。通过盒子的宽度设置成百分比来根据屏幕的宽度来进行伸缩，不受固定像素的限制，内容向两侧填充。并且流式布局**只能改变元素的宽度，对高度并无适配**
>
> 流式布局方式是移动web开发使用的比较常见的布局方式。

实例:一行完全显示两个标签
```html
<style>
    * {
        margin: 0;
        padding: 0;
    }

    section {
        width: 100%;
        max-width: 980px;
        min-width: 320px;
        margin: 0 auto;
    }

    section div {
        float: left;
        width: 50%;
        height: 400px;
    }

    section div:nth-child(1) {
        background-color: pink;
    }

    section div:nth-child(2) {
        background-color: purple;
    }
</style>
<body>
    <section>
        <div></div>
        <div></div>
    </section>
</body>
```

注意： 我们设置父盒子的时候可以参考这种设置

```css
body {
    width: 100%;
    /* 最小宽度  */
    min-width: 320px;
    /* 最大宽度  */
    max-width: 640px;
    margin: 0 auto;
    font-size: 14px;
    font-family: -apple-system, Helvetica, sans-serif;
    color: #666;
    /* font-size:14px;　那么line-height:1.5; 就相当于14*1.5＝21px */
    line-height: 1.5;
}
```

其他的布局和往常的布局一样，并无太大的区别，只是往常我们固定死的宽度，采用`流式布局`，我们得换算为`%`来适应。例如：

> 一行要显示5个盒子，那么设置他们的宽度的`20%`便可。